<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>forEach(),map(),filter() excercises</title>
    <!--JS for Jasmine standalone 5.1.1:not forget to include lib/ folder-->
    <link rel="shortcut icon" type="image/png" href="lib/jasmine-5.1.1/jasmine_favicon.png">
    <link rel="stylesheet" href="lib/jasmine-5.1.1/jasmine.css">
    <script src="lib/jasmine-5.1.1/jasmine.js"></script>
    <script src="lib/jasmine-5.1.1/jasmine-html.js"></script>
    <script src="lib/jasmine-5.1.1/boot0.js"></script>
    <script src="lib/jasmine-5.1.1/boot1.js"></script><!--optional:configure Jasmine env-->
    <!-- JS for Jasmine standalone library-->

    <script>
function doubleValues(A) {
  let ans = []
  A.forEach(a=>ans.push(a * 2))
  return ans
}
function onlyEvenValues(A) {
  let ans = []
  A.forEach(a=>{if(a % 2 === 0)ans.push(a)})
  return ans
}
function showFirstAndLast(A) {
  let ans = []
  A.forEach(s=>ans.push(s[0] + s[s.length - 1]))
  return ans
}
function addKeyAndValue(A,k,v) {
  A.forEach(obj=>obj[k] = v)
  return A
}
function vowelCount(s) {
  let obj = {}
  const vowels = "aeiou"

  s.split('').forEach(c=>{
    let d = c.toLowerCase()
    if (vowels.indexOf(d) !== -1) {
      if (!obj[d]) obj[d]=1
      else obj[d]++
    }
  })
  return obj
}
function doubleValuesWithMap(A) {
  return A.map(a=>a * 2)
}
function valTimesIndex(A) {
  return A.map((a,i)=>a*i)
}
function extractKey(A, key) {
  return A.map(obj=>obj[key])
}
function extractFullName(A) {
  return A.map(obj=>obj.first + " " + obj.last)
}
function filterByValue(A, k) {
  return A.filter(obj=>obj[k] !== undefined)
}
function find(A, x) {
  return A.filter(a=>a=== x)[0]
}
function findInObj(A, key, searchValue) {
  return A.filter(obj=>obj[key] === searchValue)[0]
}
function removeVowels(s) {
  return s.toLowerCase().split("").filter(c=>"aeiou".indexOf(c)==-1).join("")
}
function doubleOddNumbers(A) {
  return A.filter(a=>a%2!==0).map(b=>b*2)
}      
  
describe("#doubleValues",()=>{
  it("doubles array's elements",()=>expect(doubleValues([1,2])).toEqual([2,4]))
  it("works for negative",()=>expect(doubleValues([1,-2])).toEqual([2,-4]))
})
describe("#onlyEvenValues",()=>{
  it("returns new array of only even values",()=>expect(onlyEvenValues([1,2,3,4])).toEqual([2,4]))
})
describe("#showFirstAndLast",()=>{
  it("returns array of only first & last characters in an array",()=>expect(showFirstAndLast(["abc","ABC"])).toEqual(["ac","AC"]))
})
describe("#addKeyAndValue",()=>{
  it("adds {key:value} to an array of objects",()=>
    expect(addKeyAndValue([{name:"Al"},{name:"Li"}],"sex","male")).toEqual([{name:"Al",sex:"male" },{name:"Li",sex:"male"}]))
})
describe("#vowelCount",()=>{
  it("returns object{key:value} as {vowel:count}",()=>expect(vowelCount("alen")).toEqual({a:1,e:1}))
})
describe("#doubleValuesWithMap",()=>{
  it("doubles array's values(negative values also work)",()=>expect(doubleValuesWithMap([1,-2])).toEqual([2,-4]))
})
describe("#valTimesIndex",()=>{
  it("returns new array with each value multiplied by index",()=>expect(valTimesIndex([1,2,3])).toEqual([0,2,6]))
  it("works for negative numbers",()=>expect(valTimesIndex([-1,-3])).toEqual([-0,-3]))
})
describe("#extractKey",()=>{
  it("returns new array of related value of key",()=>
    expect(extractKey([{name:"Al"},{sex:"male"},{name:"Li"},{age:50}],"name")).toEqual(["Al",undefined,"Li",undefined]))
})
describe("#extractFulName",()=>{
  it("returns a new array with the value of each key in an array objects",()=>
    expect(extractFullName([{first:"Al",last:"V"},{first:"Li",last:"W"}],"name")).toEqual(["Al V","Li W"]))
})
describe("#filterByValue",()=>{
  it("returns new array of objects that contains key",()=>
    expect(filterByValue([{name:'Jane'},{name:'Al',sex:'male'}],"sex")).toEqual([{name:'Al',sex:'male'}]))
})
describe("#find",()=>{
  it("returns first value found",()=>expect(find([1,2,3,2],2)).toEqual(2))
  it("returns undefined if not found",()=>expect(find([1,2,3,2],9)).toEqual(undefined))
})
describe("#findInObj",()=>{
  it("returns first value found",()=>
    expect(findInObj([{name:'Al',age:30},{name:'Li',age:50}],"age", 50)).toEqual({name:'Li',age:50})
  )
  it("returns undefined if the value is not found",()=>
    expect(findInObj([{name:'Al',age:30},{name:'Li',age:50}],"age",60)).toEqual(undefined)
  )
})
describe("#removeVowels",()=>
  it("removes all vowels from string",()=>expect(removeVowels('alan')).toEqual("ln"))
)
describe("#doubleOddNumbers",()=>{
  it("returns array of odd numbers doubled",()=>{
    expect(doubleOddNumbers([1,2,3])).toEqual([2, 6])
    expect(doubleOddNumbers([2,4])).toEqual([])
  })
})
    </script>
  </head>
  <body>
    <h3>9.1.12.Exercises: Write forEach/map/filter functions necessary for the tests to pass</h3>
  </body>
</html>
